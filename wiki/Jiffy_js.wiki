The jiffy.js file is the core of measuring marks within the page on the client and sending them back to the server for logging. 


= Jiffy Params =
JiffyParams is a globally scoped hash that needs to be declared before the jiffy.js file is included. This hash has three main settings required for Jiffy to function.

*jsStart*: This is the start time we will measure all marks back to. It is important to make sure that this is at the top most place in your page.

*uid*: This is a unique ID that will be used in reporting to link all measures together as a single page.

*pname*: The name of the page you are measuring. This is used mostly for reporting. 

example:
{{{
<script type="text/javascript">
  var JiffyParams = {
     jsStart: (new Date()).getTime(),
     uid: <xsl:value-of select="/page/settings/random" />,
     pname: '<xsl:value-of select="$pagename" />'
  }
</script>
}}}

----

= Jiffy Options =
In the Jiffy.js file you will see a options section. These are used to turn on and off the few options we have today. 
You may provide overrides for these default options by providing them in a globally scoped hash named JiffyOptions.

*USE_JIFFY* - record and log measures

*ISBULKLOAD* - use the bulk load function which gathers all marks and measures and sends them as one request on the load event

*BROWSER_EVENTS* - built in browser events that will be measured automatically if listed in this hash. i.e. load, unload, DOMReady

*SOFT_ERRORS* - Allows us to view try statement errors by displaying them in an alert.


example:
{{{
<script type="text/javascript">
  JiffyOptions = {
    USE_JIFFY:true,
    ISBULKLOAD: true,
    BROWSER_EVENTS: {"unload":window,"load":window},
    SOFT_ERRORS: false
  };
</script>
}}}

----

= Mark & Measure =
Jiffy exposes it ability to generate measurements on the client through a mechanism we call mark & measure. Marks are moments in a page tagged by a time and measures will measure back to a mark then log that to the server either by doing them as they happen or by the bulk load which gathers all measures and sends them at once on page load. 

example:
{{{
<script type="text/javascript">
  Jiffy.mark("rsiStart");
</script>

<script type="text/javascript" src="http://js.revsci.net/gateway/gw.js?csid=A06546"></script>

<script type="text/javascript">
  Jiffy.measure("rsiDone", "rsiStart");
</script>
}}}

The example above will create a mark named rsiStart and when the script below it has completed its execution the call to measure includes a reference to the mark we want to measure back to. 